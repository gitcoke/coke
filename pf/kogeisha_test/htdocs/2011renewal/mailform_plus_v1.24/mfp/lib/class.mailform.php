<?php
/* 
+----------------------------------------------------------------------+
| Script name : class mailform                                         |
| Version     : 1.24                                                   |
| Last Build  : 07/11/2010                                             |
| Description : Mail Form Class                                        |
+----------------------------------------------------------------------+
| Copyright (c) XTREC & XTROCK                                         |
| http://xtrock.com/                                                   |
| http://www.xtrec.com/                                                |
+----------------------------------------------------------------------+
| License                                                              |
| http://www.gnu.org/copyleft/lesser.html LGPL                         |
+----------------------------------------------------------------------+
| Authors: HISABO <info@xtrock.com>                                    |
+----------------------------------------------------------------------+
*/
require_once dirname(__FILE__). '/class.template.php';
formation('Y2xhc3MgTWFpbEZvcm1QbHVzIGV4dGVuZHMgdGVtcGxhdGV7dmFyICRsYW5nIAkJCQk9ICdqYSc7dmFyICRzaXNfbmFtZSAJCQk9ICdtZic7dmFyICRtYWlsX3RlbXBsYXRlX2Rpcjt2YXIgJGxpbWl0X2xvZzt2YXIgJGNvbmZpZyAJCQk9IGFycmF5KCk7dmFyICR2YWxpZCAJCQkJPSBhcnJheSgpO3ZhciAkeGh0bWwgCQkJCT0gZmFsc2U7dmFyICRsaW1pdAkJCQk9IGZhbHNlO3ZhciAkd3A7ZnVuY3Rpb24gTWFpbEZvcm1QbHVzKCRjb25maWcsICR4aHRtbCA9IGZhbHNlKSB7aWYoIWlzX2FycmF5KCRjb25maWcpKSB7ZWNobyAnRXJyb3IhIGVtcHR5IGNvbmZpZyBkYXRhLic7ZXhpdDt9JHRoaXMtPnhodG1sID0gJHhodG1sO2ZvcmVhY2goJGNvbmZpZyBhcyAka2V5ID0-ICR2YWx1ZSkge2lmKCRrZXkgPT0gJ2NoYXJzZXQnKSB7JHRoaXMtPmNoYXJzZXQgPSAgJHZhbHVlO30gZWxzZWlmKCRrZXkgPT0gJ2xpbWl0JykgeyR0aGlzLT5saW1pdCA9ICAkdmFsdWU7fSBlbHNlaWYoJGtleSA9PSAndmFsaWQnKSB7Zm9yZWFjaCgkdmFsdWUgYXMgJGsgPT4gJHYpIHtpZigkdiAhPSAnJykgJHRoaXMtPnZhbGlkWyRrXSA9IGV4cGxvZGUoJywnLCBydHJpbSgkdikpO319IGVsc2VpZigka2V5ID09ICd0ZW1wbGF0ZScpIHskdGhpcy0-dGVtcGxhdGVfZGlyID0gJHZhbHVlOyR0aGlzLT5tYWlsX3RlbXBsYXRlX2RpciA9ICR2YWx1ZSAuICdtYWlsLyc7fSBlbHNlaWYoJGtleSA9PSAncG9zdF9uYW1lJykge2lmKCR2YWx1ZSAhPSAnJykgJHRoaXMtPmNvbmZpZ1ska2V5XSA9ICBleHBsb2RlKCcsJywgcnRyaW0oJHZhbHVlKSk7fSBlbHNlIHskdGhpcy0-Y29uZmlnWyRrZXldID0gJHZhbHVlO319aWYoIWlzc2V0KCRjb25maWdbJ3RlbXBsYXRlJ10pKSB7JHRoaXMtPnRlbXBsYXRlX2RpciA9IFNZU1RFTV9ST09UIC4gJ3RlbXBsYXRlLyc7JHRoaXMtPm1haWxfdGVtcGxhdGVfZGlyID0gJHRoaXMtPnRlbXBsYXRlX2RpciAuICdtYWlsLyc7fSR0aGlzLT5saW1pdF9sb2cgPSBTWVNURU1fUk9PVC4gJ2xvZy9saW1pdC5sb2cnO2lmKCR0aGlzLT54aHRtbCkge2lmKGFnZW50KCkgIT0gJ3AnKSB7aGVhZGVyKCdjb250ZW50LXR5cGU6ICcuJHRoaXMtPmNvbnRlbnRUeXBlKCkuJzsgY2hhcnNldD0nIC4gJHRoaXMtPmh0bWxIZWFkZXIoKSk7fSBlbHNlIHtoZWFkZXIoJ2NvbnRlbnQtdHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PScgLiAkdGhpcy0-aHRtbEhlYWRlcigpKTt9fSBlbHNlIHtoZWFkZXIoJ2NvbnRlbnQtdHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PScgLiAkdGhpcy0-aHRtbEhlYWRlcigpKTt9fWZ1bmN0aW9uIGh0bWxIZWFkZXIoKSB7aWYoJHRoaXMtPmNoYXJzZXQgPT0gJ1NKSVMnKSB7cmV0dXJuICdzaGlmdF9qaXMnO30gZWxzZWlmKCR0aGlzLT5jaGFyc2V0ID09ICdVVEYtOCcpIHtyZXR1cm4gJ3V0Zi04Jzt9IGVsc2Uge3JldHVybiAkdGhpcy0-Y2hhcnNldDt9fWZ1bmN0aW9uIGlucHV0RW5jb2RpbmcoJHNvdXJjZSkge2lmKGlzX2FycmF5KCRzb3VyY2UpKSB7JHJlc3VsdCA9IGFycmF5KCk7Zm9yZWFjaCgkc291cmNlIGFzICRrZXkgPT4gJHZhbHVlKSB7JHJlc3VsdFska2V5XSA9ICR0aGlzLT5pbnB1dEVuY29kaW5nKCR2YWx1ZSk7fXJldHVybiAkcmVzdWx0O30gZWxzZSB7aWYoYWdlbnQoKSAhPSAncCcpIHtyZXR1cm4gbWJfY29udmVydF9lbmNvZGluZygkc291cmNlLCAnVVRGLTgnLCAnU0pJUycpO30gZWxzZSB7cmV0dXJuIG1iX2NvbnZlcnRfZW5jb2RpbmcoJHNvdXJjZSwgJ1VURi04JywgJHRoaXMtPmNoYXJzZXQpO319fWZ1bmN0aW9uIG91dHB1dEVuY29kaW5nKCRzb3VyY2UpIHtpZihpc19hcnJheSgkc291cmNlKSkgeyRyZXN1bHQgPSBhcnJheSgpO2ZvcmVhY2goJHNvdXJjZSBhcyAka2V5ID0-ICR2YWx1ZSkgeyRyZXN1bHRbJGtleV0gPSBvdXRwdXRFbmNvZGluZygkdmFsdWUpO31yZXR1cm4gJHJlc3VsdDt9IGVsc2Uge2lmKGFnZW50KCkgIT0gJ3AnKSB7JHNvdXJjZSA9IG1iX2NvbnZlcnRfa2FuYSgkc291cmNlLCAnYWtWJywgJ1VURi04Jyk7aWYoJHRoaXMtPndwKSB7cmV0dXJuICRzb3VyY2U7fSBlbHNlIHtyZXR1cm4gbWJfY29udmVydF9lbmNvZGluZygkc291cmNlLCAnU0pJUycsICdVVEYtOCcpO319IGVsc2Uge3JldHVybiBtYl9jb252ZXJ0X2VuY29kaW5nKCRzb3VyY2UsICR0aGlzLT5jaGFyc2V0LCAnVVRGLTgnKTt9fWVjaG8gJHNvdXJjZTt9ZnVuY3Rpb24gY29udGVudFR5cGUoKSB7cmV0dXJuIGFnZW50KCkgIT0gJ2knID8gJ3RleHQvaHRtbCcgOiAnYXBwbGljYXRpb24veGh0bWwreG1sJzt9ZnVuY3Rpb24gaXN0eWxlKCRtb2RlLCAkc3R5bGUgPSBmYWxzZSkgeyRpU3RyID0gJ3N0eWxlPSInLigkc3R5bGUgPyAkc3R5bGUuJzsnIDogJycpLictd2FwLWlucHV0LWZvcm1hdDomcXVvdDsqJmx0O2phOiVzJmd0OyZxdW90OzsiJzskY3NzICA9ICRzdHlsZSA_ICdzdHlsZT0iJy4kc3R5bGUuJzsiJyA6ICcnOyRzU3RyID0gJGNzcy4nIG1vZGU9IiVzIic7JGVTdHIgPSAkY3NzLicgZm9ybWF0PSIqJXMiJzskd1N0ciA9ICRjc3MuJyBpc3R5bGU9IiVzIic7JHBTdHIgPSAnc3R5bGU9IicuKCRzdHlsZSA_ICRzdHlsZS4nOycgOiAnJykuJ2ltZS1tb2RlOiVzOyInO3N3aXRjaCgkbW9kZSkge2Nhc2UgMTpzd2l0Y2goYWdlbnQoKSkge2Nhc2UgJ2knOiRzdHIgPSBzdHJfcmVwbGFjZSgnJXMnLCAnaCcsICRpU3RyKTticmVhaztjYXNlICdzJzokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2hpcmFnYW5hJywgJHNTdHIpO2JyZWFrO2Nhc2UgJ2UnOiRzdHIgPSBzdHJfcmVwbGFjZSgnJXMnLCAnTScsICRlU3RyKTticmVhaztjYXNlICd3JzpjYXNlICd3bSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICRtb2RlLCAkd1N0cik7YnJlYWs7ZGVmYXVsdDokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2FjdGl2ZScsICRwU3RyKTt9YnJlYWs7Y2FzZSAyOnN3aXRjaChhZ2VudCgpKSB7Y2FzZSAnaSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICdoaycsICRpU3RyKTticmVhaztjYXNlICdzJzokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2thdGFrYW5hJywgJHNTdHIpO2JyZWFrO2Nhc2UgJ2UnOiRzdHIgPSBzdHJfcmVwbGFjZSgnJXMnLCAnTScsICRlU3RyKTticmVhaztjYXNlICd3JzpjYXNlICd3bSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICRtb2RlLCAkd1N0cik7YnJlYWs7ZGVmYXVsdDokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2FjdGl2ZScsICRwU3RyKTt9YnJlYWs7Y2FzZSAzOnN3aXRjaChhZ2VudCgpKSB7Y2FzZSAnaSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICdlbicsICRpU3RyKTticmVhaztjYXNlICdzJzokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2FscGhhYmV0JywgJHNTdHIpO2JyZWFrO2Nhc2UgJ2UnOiRzdHIgPSBzdHJfcmVwbGFjZSgnJXMnLCAnbScsICRlU3RyKTticmVhaztjYXNlICd3JzpjYXNlICd3bSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICRtb2RlLCAkd1N0cik7YnJlYWs7ZGVmYXVsdDokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2luYWN0aXZlJywgJHBTdHIpO31icmVhaztjYXNlIDQ7c3dpdGNoKGFnZW50KCkpIHtjYXNlICJpIjokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ24nLCAkaVN0cik7YnJlYWs7Y2FzZSAncyc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICdudW1lcmljJywgJHNTdHIpO2JyZWFrO2Nhc2UgJ2UnOiRzdHIgPSBzdHJfcmVwbGFjZSgnJXMnLCAnTicsICRlU3RyKTticmVhaztjYXNlICd3JzpjYXNlICd3bSc6JHN0ciA9IHN0cl9yZXBsYWNlKCclcycsICRtb2RlLCAkd1N0cik7YnJlYWs7ZGVmYXVsdDokc3RyID0gc3RyX3JlcGxhY2UoJyVzJywgJ2luYWN0aXZlJywgJHBTdHIpO31icmVhazt9cmV0dXJuICcgJy4kc3RyOyB9ZnVuY3Rpb24gaW5wdXRBc3Npc3RhbmNlKCRzb3VyY2UpIHtpZigkdGhpcy0-eGh0bWwgPT0gZmFsc2UgJiYgYWdlbnQoKSA9PSAnaScpIHJldHVybiAkc291cmNlO2lmKCR0aGlzLT53cCkgcmV0dXJuICRzb3VyY2U7JHBhdHRlcm5zID0gYXJyYXkoJzxpbnB1dCguKik-JywgJzx0ZXh0YXJlYSguKik-KC4qKTxcL3RleHRhcmVhPicpOyRpICAgICAgICA9IDA7Zm9yZWFjaCgkcGF0dGVybnMgYXMgJHBhdHRlcm4pIHtpZihwcmVnX21hdGNoX2FsbCgnLycuJHBhdHRlcm4uJy9zVScsICRzb3VyY2UsICRwYXJ0cykpIHskY250ID0gMDtmb3JlYWNoKCRwYXJ0c1sxXSBhcyAkcHRybl9zdHIpIHtpZihwcmVnX21hdGNoKCIvIGlzdHlsZT1cIihbMS00XXsxfSlcIi8iLCAkcHRybl9zdHIsICRzdHlsZSkpIHtwcmVnX21hdGNoKCIvIHN0eWxlPVwiKC4qKTtcIi8iLCAkcHRybl9zdHIsICRjc3MpOyRwdHJuX3N0ciA9IGlzc2V0KCRjc3NbMV0pID8gc3RyX3JlcGxhY2UoJyBzdHlsZT0iJy4kY3NzWzFdLic7IicsICcnLCAkcHRybl9zdHIpIDogJHB0cm5fc3RyOyRpc3R5bGUgICA9ICR0aGlzLT5pc3R5bGUoJHN0eWxlWzFdLCAoaXNzZXQoJGNzc1sxXSkgPyAkY3NzWzFdIDogJycpKTskbGluZSAgICAgPSBzdHJfcmVwbGFjZSgnIGlzdHlsZT0iJy4kc3R5bGVbMV0uJyInLCAkaXN0eWxlLCAkcHRybl9zdHIpO30gZWxzZSB7JGxpbmUgICAgID0gJHB0cm5fc3RyO30kc291cmNlID0gc3RyX3JlcGxhY2UoJHBhcnRzWzBdWyRjbnRdLCAoJGkgPT0gMSA_ICc8dGV4dGFyZWEnIC4gJGxpbmUgLiAnPicgLiAkcGFydHNbMl1bJGNudF0gLiAnPC90ZXh0YXJlYT4nIDogJzxpbnB1dCcgLiAkbGluZSAuICc-JyksICRzb3VyY2UpOyRjbnQrKzt9fSRpKys7fXJldHVybiAkc291cmNlO31mdW5jdGlvbiBwb3N0RGF0YSgpIHskZGF0YSA9IGFycmF5KCk7Zm9yZWFjaCgkdGhpcy0-Y29uZmlnWydwb3N0X25hbWUnXSBhcyAkbmFtZSkge2lmKGlzc2V0KCRfUE9TVFskbmFtZV0pICYmIGlzX2FycmF5KCRfUE9TVFskbmFtZV0pKSB7Zm9yZWFjaCgkX1BPU1RbJG5hbWVdIGFzICRrZXkgPT4gJHZhbHVlKSB7JGRhdGFbJG5hbWVdWyRrZXldID0gaXNzZXQoJF9QT1NUWyRuYW1lXVska2V5XSkgPyBoKCR0aGlzLT5pbnB1dEVuY29kaW5nKCR2YWx1ZSkpIDogJyc7fX0gZWxzZSB7JGRhdGFbJG5hbWVdID0gaXNzZXQoJF9QT1NUWyRuYW1lXSkgPyBoKCR0aGlzLT5pbnB1dEVuY29kaW5nKCRfUE9TVFskbmFtZV0pKSA6ICcnO319cmV0dXJuIGdldF9tYWdpY19xdW90ZXNfZ3BjKCkgPyBzdHJpcHNsYXNoZXNfZGVlcCgkZGF0YSkgOiAkZGF0YTt9ZnVuY3Rpb24gcG9zdENoZWNrKCRkYXRhLCAkbGltaXQgPSBmYWxzZSkgeyRyZXN1bHQgPSBhcnJheSgpO2ZvcmVhY2goJHRoaXMtPmNvbmZpZ1sncG9zdF9uYW1lJ10gYXMgJG5hbWUpICRyZXN1bHRbJG5hbWVdID0gJyc7Zm9yZWFjaCgkdGhpcy0-dmFsaWQgYXMgJGtleSA9PiAkdmFsdWUpIHtpZigka2V5ID09ICdob3N0JykgeyRjaGsgPSB2YWxpZGF0ZSgka2V5LCAkdmFsdWUpO2lmKCRjaGspICRyZXN1bHRbJGtleV0gPSAkY2hrO31pZihpc19hcnJheSgkdmFsdWUpKSB7Zm9yZWFjaCgkdmFsdWUgYXMgJG5hbWUpIHskY2hrID0gdmFsaWRhdGUoJGtleSwgJGRhdGFbJG5hbWVdKTtpZigkY2hrKSAkcmVzdWx0WyRuYW1lXSA9ICRjaGs7fX0gZWxzZSB7JGNoayA9IHZhbGlkYXRlKCRrZXksICRkYXRhWyR2YWx1ZV0pO2lmKCRjaGspICRyZXN1bHRbJHZhbHVlXSA9ICRjaGs7fSRjaGsgPSAkdGhpcy0-bGltaXRlcigpO2lmKCRjaGspICRyZXN1bHRbJ2hvc3QnXSA9ICRjaGs7fXJldHVybiAkcmVzdWx0O31mdW5jdGlvbiBsaW1pdGVyKCkge2lmKCFmaWxlX2V4aXN0cygkdGhpcy0-bGltaXRfbG9nKSkge3RvdWNoKCR0aGlzLT5saW1pdF9sb2cpO30kbG9ncyA9IGZpbGUoJHRoaXMtPmxpbWl0X2xvZyk7Zm9yZWFjaCgkbG9ncyBhcyAkbGluZSkge2xpc3QoJGxpcCwgJGx0aW1lKSA9IGV4cGxvZGUoIlx0IiwgJGxpbmUpO2lmKEBnZXRob3N0YnlhZGRyKCRfU0VSVkVSWydSRU1PVEVfQUREUiddKSA9PSAkbGlwICYmICR0aGlzLT5saW1pdCo2MCA-ICh0aW1lKCkgLSAkbHRpbWUpKSB7cmV0dXJuIF9FUlJPUl9MSU1JVDt9fX1mdW5jdGlvbiBtYWlsU2VuZCgkZGF0YSkgeyRkYXRhWydkYXRlJ10gPSBkYXRlKERBVEVfRk9STUFULCB0aW1lKCkpOyRkYXRhWydob3N0J10gPSBAZ2V0aG9zdGJ5YWRkcigkX1NFUlZFUlsnUkVNT1RFX0FERFInXSk7JGRhdGFbJ3VhJ10gPSAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ107JG1haWxfY29uZmlnID0gYXJyYXkoJ3RvJyAJCT0-IGFycmF5KCduYW1lJyA9PiAkdGhpcy0-Y29uZmlnWydzaXRlbmFtZSddLCAnZW1haWwnID0-ICR0aGlzLT5jb25maWdbJ3JlY2lwaWVudCddKSwnZnJvbScgCQk9PiBhcnJheSgnbmFtZScgPT4gaXNzZXQoJHRoaXMtPmNvbmZpZ1snZnJvbV9uYW1lJ10pICYmICR0aGlzLT5jb25maWdbJ2Zyb21fbmFtZSddICE9ICcnID8gJGRhdGFbJHRoaXMtPmNvbmZpZ1snZnJvbV9uYW1lJ11dIDogJHRoaXMtPmNvbmZpZ1snc2l0ZW5hbWUnXSwnZW1haWwnID0-IGlzc2V0KCR0aGlzLT5jb25maWdbJ2Zyb21fZW1haWwnXSkgJiYgJHRoaXMtPmNvbmZpZ1snZnJvbV9lbWFpbCddICE9ICcnID8gJGRhdGFbJHRoaXMtPmNvbmZpZ1snZnJvbV9lbWFpbCddXSA6ICR0aGlzLT5jb25maWdbJ3JlY2lwaWVudCddKSwnc3ViamVjdCcgCT0-IF9UWFRfU1VCSkVDVCwndHBsJyAJCT0-ICdib2R5Jyk7JHJlc3VsdCA9ICR0aGlzLT5tYWlsZXIoJG1haWxfY29uZmlnLCAkZGF0YSk7aWYoJHJlc3VsdCkge2lmKCR0aGlzLT5jb25maWdbJ3JlcGx5J10gJiYgKGlzc2V0KCR0aGlzLT5jb25maWdbJ2Zyb21fZW1haWwnXSkgJiYgJHRoaXMtPmNvbmZpZ1snZnJvbV9lbWFpbCddICE9ICcnKSkgeyRtYWlsX2NvbmZpZyA9IGFycmF5KCd0bycgCQk9PiBhcnJheSgnbmFtZScgPT4gJGRhdGFbJHRoaXMtPmNvbmZpZ1snZnJvbV9uYW1lJ11dLCAnZW1haWwnID0-ICRkYXRhWyR0aGlzLT5jb25maWdbJ2Zyb21fZW1haWwnXV0pLCdmcm9tJyAJCT0-IGFycmF5KCduYW1lJyA9PiAkdGhpcy0-Y29uZmlnWydzaXRlbmFtZSddLCAnZW1haWwnID0-ICR0aGlzLT5jb25maWdbJ3JlY2lwaWVudCddKSwnc3ViamVjdCcgCT0-IF9UWFRfUkVQTFlfU1VCSkVDVCwndHBsJyAJCT0-ICdyZXBseScpOyRyZXBseSA9ICR0aGlzLT5tYWlsZXIoJG1haWxfY29uZmlnLCAkZGF0YSk7fSR0aGlzLT53cml0ZUxvZygkZGF0YVsnaG9zdCddKTtmb3JlYWNoKCR0aGlzLT5jb25maWdbJ3Bvc3RfbmFtZSddIGFzICRuYW1lKSB7dW5zZXQoJF9TRVNTSU9OWyR0aGlzLT5zaXNfbmFtZV1bJG5hbWVdKTt9aWYoIUBoZWFkZXIoJ0xvY2F0aW9uOiAnIC4kdGhpcy0-Y29uZmlnWydmb3JtX3VybCddLiAnP3N1Y2Nlc3M9dHJ1ZScpKSB7JHRoaXMtPmRpc3BsYXkoJ3ByZV9zdWNjZXNzJyk7fX19ZnVuY3Rpb24gbWFpbGVyKCRjb25maWcsICRfZGF0YSkgeyRzZW5kID0gdHJ1ZTtyZXF1aXJlX29uY2UoU1lTVEVNX1JPT1QuICdsaWIvY2xhc3MueHRtYWlsZXIucGhwJyk7JGRhdGEgPSBhcnJheSgnY29uZmlnJyA9PiAkdGhpcy0-Y29uZmlnLCAnZGF0YScgPT4gJF9kYXRhKTskbWFpbGVyID0gbmV3IHh0TWFpbGVyKCk7JG1haWxlci0-ZGF0YSA9IGFycmF5KCd0bycgICAgICA9PiAkY29uZmlnWyd0byddLCdzdWJqZWN0JyA9PiAkY29uZmlnWydzdWJqZWN0J10sJ2Zyb20nICAgID0-ICRjb25maWdbJ2Zyb20nXSwnYm9keScgICAgPT4gJHRoaXMtPmRpc3BsYXkoJGNvbmZpZ1sndHBsJ10sICRkYXRhLCB0cnVlKSk7aWYoISRtYWlsZXItPnNlbnRNYWlsKCkpICRzZW5kID0gZmFsc2U7aWYoISRzZW5kKSB7ZGllKCdmYWxzZScpO30gZWxzZSB7cmV0dXJuIHRydWU7fX1mdW5jdGlvbiB3cml0ZUxvZygkaG9zdCkgeyRsaW5lcyA9IGZpbGUoJHRoaXMtPmxpbWl0X2xvZyk7JGRhdGEgPSAiJGhvc3RcdCIudGltZSgpLiJcbiI7JGZwID0gZm9wZW4oJHRoaXMtPmxpbWl0X2xvZywgJ3cnKSBvciBkaWUoJ0Vycm9yIGxvZyBmaWxlIG5vdCBvcGVuZWQoJy4kdGhpcy0-bGltaXRfbG9nLicpLiBsaW5lOicuX19MSU5FX18pO2Zsb2NrKCRmcCwgTE9DS19FWCk7YXJyYXlfdW5zaGlmdCgkbGluZXMsICRkYXRhKTtpZihjb3VudCgkbGluZXMpID4gMTApIGFycmF5X3BvcCgkbGluZXMpO2ZvcmVhY2goJGxpbmVzIGFzICRsaW5lKSBmcHV0cygkZnAsICRsaW5lKTtmY2xvc2UoJGZwKTt9ZnVuY3Rpb24gZGlzcGxheSgkZmlsZW5hbWUsICRkYXRhID0gYXJyYXkoKSwgJHNlbmQgPSBmYWxzZSkgeyRkYXRhWydjb25maWcnXSA9ICR0aGlzLT5jb25maWc7JGRhdGFbJ2NvbmZpZyddWydzbiddID0gc2Vzc2lvbl9uYW1lKCk7JGRhdGFbJ2NvbmZpZyddWydzaSddID0gc2Vzc2lvbl9pZCgpOyRodG1sX2NoYXJzZXQgPSAnJztmb3JlYWNoKCR0aGlzLT5jb25maWdbJ3Bvc3RfbmFtZSddIGFzICRuYW1lKSB7aWYoIWlzc2V0KCRkYXRhWydkYXRhJ11bJG5hbWVdKSkgJGRhdGFbJ2RhdGEnXVskbmFtZV0gPSAnJztpZighaXNzZXQoJGRhdGFbJ2Vycm9yJ11bJG5hbWVdKSkgJGRhdGFbJ2Vycm9yJ11bJG5hbWVdID0gJyc7fWlmKCFpc3NldCgkZGF0YVsnZXJyb3InXVsnaG9zdCddKSkgJGRhdGFbJ2Vycm9yJ11bJ2hvc3QnXSA9ICcnOyR0aGlzLT5hc3NpZ24gPSAkZGF0YTskZmlsZW5hbWUgPSAoYWdlbnQoKSA9PSAncCcgPyAnJyA6ICgkc2VuZCA_ICcnIDogJ21fJykpIC4gJGZpbGVuYW1lIC4gJy50cGwnO2lmKCRzZW5kKSB7JGNoYXJzZXQgPSAnVVRGLTgnO2lmKCRjaGFyc2V0ICE9ICR0aGlzLT5jaGFyc2V0KSB7JGh0bWxfY2hhcnNldCA9ICR0aGlzLT5jaGFyc2V0OyR0aGlzLT5jaGFyc2V0ID0gJGNoYXJzZXQ7fSRvbGRfdGVtcGxhdGVfZGlyID0gJHRoaXMtPnRlbXBsYXRlX2RpcjskdGhpcy0-dGVtcGxhdGVfZGlyID0gJHRoaXMtPm1haWxfdGVtcGxhdGVfZGlyO30kbGluZXMgPSAkdGhpcy0-dGVtcGxhdGVfaW5jbHVkZSgkZmlsZW5hbWUpOyRsaW5lcyA9ICR0aGlzLT5zZXQoJGxpbmVzKTtpZigkc2VuZCkgeyRsaW5lcyA9IHN0cl9yZXBsYWNlKCJcclxuIiwgIlxuIiwgJGxpbmVzKTskdGhpcy0-Y2hhcnNldCA9ICRodG1sX2NoYXJzZXQgPyAkaHRtbF9jaGFyc2V0IDogJHRoaXMtPmNoYXJzZXQ7JHRoaXMtPnRlbXBsYXRlX2RpciA9ICRvbGRfdGVtcGxhdGVfZGlyO3JldHVybiAkbGluZXM7fSBlbHNlIHskbGluZXMgPSAkdGhpcy0-aW5wdXRBc3Npc3RhbmNlKCRsaW5lcyk7JGxpbmVzID0gJGxpbmVzLmZvcm1hdGlvbignUEhBLVBHRWdhSEpsWmowaWFIUjBjRG92TDNkM2R5NTRkSEpsWXk1amIyMHZjMk55YVhCMFgyMW1MbWgwYlNJZ2RHRnlaMlYwUFNKZllteGhibXNpUGp4cGJXY2djM0pqUFNKb2RIUndPaTh2ZDNkM0xuaDBjbVZqTG1OdmJTOW5hV1l2WW01ZmJXWndiSFZ6TG1kcFppSWdZV3gwUFNKNGRISmxZeUlnZEdsMGJHVTlJbkJ2ZDJWeVpXUWdZbmtnVFdGcGJHWnZjbTBySWlBdlBqd3ZZVDQ4TDNBLScsIHRydWUpO2VjaG8gJHRoaXMtPm91dHB1dEVuY29kaW5nKCRsaW5lcyk7fX1mdW5jdGlvbiBjaGsoJHJlc3VsdHMpIHskY2hrID0gZmFsc2U7Zm9yZWFjaCgkdGhpcy0-Y29uZmlnWydwb3N0X25hbWUnXSBhcyAkbmFtZSkge2lmKCRyZXN1bHRzWyRuYW1lXSAhPSAnJykgJGNoayA9IHRydWU7fWlmKGlzc2V0KCRyZXN1bHRzWydob3N0J10pICYmICRyZXN1bHRzWydob3N0J10gIT0gJycpICRjaGsgPSB0cnVlO3JldHVybiAkY2hrO31mdW5jdGlvbiBmb3JtTWV0aG9kKCkge2luY2x1ZGUgKFNZU1RFTV9ST09UIC4gJ2luYy9sYW5nXycgLiAkdGhpcy0-bGFuZyAuICcucGhwJyk7c3dpdGNoKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddKSB7Y2FzZSAnR0VUJzppZihpc3NldCgkX0dFVFsnc3VjY2VzcyddKSAmJiAkX0dFVFsnc3VjY2VzcyddID09ICd0cnVlJykgeyR0aGlzLT5kaXNwbGF5KCdzdWNjZXNzJyk7fSBlbHNlIHskdGhpcy0-ZGlzcGxheSgnZm9ybScpO31icmVhaztjYXNlICdQT1NUJzppZihpc3NldCgkX1BPU1RbJ2NvbmZpcm0nXSkpIHskZGF0YSA9ICR0aGlzLT5wb3N0RGF0YSgpO2ZvcmVhY2goJHRoaXMtPmNvbmZpZ1sncG9zdF9uYW1lJ10gYXMgJG5hbWUpICRfU0VTU0lPTlskdGhpcy0-c2lzX25hbWVdWyRuYW1lXSA9ICRkYXRhWyRuYW1lXTskZXJyb3IgPSAkdGhpcy0-cG9zdENoZWNrKCRkYXRhKTtpZighJHRoaXMtPmNoaygkZXJyb3IpKSB7JHRoaXMtPmRpc3BsYXkoJ2NvbmZpcm0nLCBhcnJheSgnZGF0YScgPT4gJGRhdGEpKTt9IGVsc2UgeyR0aGlzLT5kaXNwbGF5KCdmb3JtJywgYXJyYXkoJ2RhdGEnID0-ICRkYXRhLCAnZXJyb3InID0-ICRlcnJvcikpO319IGVsc2VpZihpc3NldCgkX1BPU1RbJ2VkaXQnXSkpIHtmb3JlYWNoKCR0aGlzLT5jb25maWdbJ3Bvc3RfbmFtZSddIGFzICRuYW1lKSB7JGRhdGFbJG5hbWVdID0gaXNzZXQoJF9TRVNTSU9OWyR0aGlzLT5zaXNfbmFtZV1bJG5hbWVdKSA_ICRfU0VTU0lPTlskdGhpcy0-c2lzX25hbWVdWyRuYW1lXSA6ICcnOyRlcnJvclskbmFtZV0gPSAnJzt9JHRoaXMtPmRpc3BsYXkoJ2Zvcm0nLCBhcnJheSgnZGF0YScgPT4gJGRhdGEsICdlcnJvcicgPT4gJGVycm9yKSk7fSBlbHNlaWYoaXNzZXQoJF9QT1NUWydzZW5kJ10pKSB7Zm9yZWFjaCgkdGhpcy0-Y29uZmlnWydwb3N0X25hbWUnXSBhcyAkbmFtZSkgJGRhdGFbJG5hbWVdID0gaXNzZXQoJF9TRVNTSU9OWyR0aGlzLT5zaXNfbmFtZV1bJG5hbWVdKSA_ICRfU0VTU0lPTlskdGhpcy0-c2lzX25hbWVdWyRuYW1lXSA6ICcnOyRlcnJvciA9ICR0aGlzLT5wb3N0Q2hlY2soJGRhdGEsIHRydWUpO2lmKCEkdGhpcy0-Y2hrKCRlcnJvcikpIHskdGhpcy0-bWFpbFNlbmQoJGRhdGEpO30gZWxzZSB7JHRoaXMtPmRpc3BsYXkoJ2Zvcm0nLCBhcnJheSgnZGF0YScgPT4gJGRhdGEsICdlcnJvcicgPT4gJGVycm9yKSk7fX0gZWxzZWlmKGlzc2V0KCRfUE9TVFsncmVzZXQnXSkpIHtmb3JlYWNoKCR0aGlzLT5jb25maWdbJ3Bvc3RfbmFtZSddIGFzICRuYW1lKSB7dW5zZXQoJF9TRVNTSU9OWyR0aGlzLT5zaXNfbmFtZV1bJG5hbWVdKTt9aWYoIUBoZWFkZXIoJ0xvY2F0aW9uOiAnIC4kdGhpcy0-Y29uZmlnWydmb3JtX3VybCddKSkgeyR0aGlzLT5kaXNwbGF5KCdmb3JtJyk7fX0gZWxzZWlmKGlzc2V0KCRfUE9TVFsnc3VibWl0J10pKSB7JGRhdGEgPSAkdGhpcy0-cG9zdERhdGEoKTskZXJyb3IgPSAkdGhpcy0-cG9zdENoZWNrKCRkYXRhKTtpZighJHRoaXMtPmNoaygkZXJyb3IpKSB7JHRoaXMtPm1haWxTZW5kKCRkYXRhKTt9IGVsc2UgeyR0aGlzLT5kaXNwbGF5KCdmb3JtJywgYXJyYXkoJ2RhdGEnID0-ICRkYXRhLCAnZXJyb3InID0-ICRlcnJvcikpO319YnJlYWs7ZGVmYXVsdDpkaWUoJ1JFUVVFU1RfTUVUSE9EIGVycm9yIScpO2V4aXQ7fX19');
?>