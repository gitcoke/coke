<?php
/* 
+----------------------------------------------------------------------+
| Script name : class xtMailer                                         |
| Version     : 0.16                                                   |
| Last Build  : 02/08/2010                                             |
| Description : Mail Sending library                                   |
+----------------------------------------------------------------------+
| Copyright (c) XTREC & XTROCK                                         |
| http://xtrock.com/                                                   |
| http://www.xtrec.com/                                                |
+----------------------------------------------------------------------+
| License                                                              |
| http://www.gnu.org/copyleft/lesser.html LGPL                         |
+----------------------------------------------------------------------+
| Authors: HISABO <info@xtrock.com>                                    |
+----------------------------------------------------------------------+

var $data = array(
				'to' => array('name' => str ToName, 'email' => str ToEmail),
				'subject' => str subject,
				'body' => str body,
				'from' => array('name' => str FromName, 'email' => str FromEmail),
				'bcc' => array('name' => str BccName, 'email' => str BccEmail),
				'cc' => array('name' => str CcName, 'email' => str CcEmail),
				'tpl' => array('filepath' => str TemplateFilePath, 'charset' => str TemplateCharset),
				'attachment' => array('path' => str FilePath, 'filename' => str FileName),
				'reply' => array('name' => str ReplyName, 'email' => str ReplyEmail),
				);
*/
formation('Y2xhc3MgeHRNYWlsZXJ7dmFyICRsYW5nPSdKYXBhbmVzZSc7dmFyICRjaGFyc2V0PSdJU08tMjAyMi1KUCc7dmFyICRlbmNvZGU9JzdiaXQnO3ZhciAkY29udGVudFR5cGU9J3RleHQvcGxhaW4nO3ZhciAkc2NyaXB0Q2hhcnNldD0nVVRGLTgnO3ZhciAkZGF0YT1hcnJheSgpO3ZhciAkc2NyaXB0TmFtZT0nY2xhc3MgeHRNYWlsZXInO2Z1bmN0aW9uIHNlbnRNYWlsKCkge21iX2xhbmd1YWdlKCR0aGlzLT5sYW5nKTttYl9pbnRlcm5hbF9lbmNvZGluZygkdGhpcy0-c2NyaXB0Q2hhcnNldCk7aWYoJHRoaXMtPmRhdGFbJ2F0dGFjaG1lbnQnXSl7JHJlc3VsdD0kdGhpcy0-bWFpbFNlbmQoKTt9ZWxzZXskcmVzdWx0PSR0aGlzLT5tYlNlbmRNYWlsKCk7fXJldHVybiAkcmVzdWx0O31mdW5jdGlvbiBhZGRCb2R5KCl7aWYoJHRoaXMtPmRhdGFbJ3RwbCddKXskbGluZXMgPWZpbGVfZ2V0X2NvbnRlbnRzKCR0aGlzLT5kYXRhWyd0cGwnXVsnZmlsZXBhdGgnXSk7JGxpbmVzID0gbWJfY29udmVydF9lbmNvZGluZygkbGluZXMsJHRoaXMtPnNjcmlwdENoYXJzZXQsICR0aGlzLT5kYXRhWyd0cGwnXVsnY2hhcnNldCddKTtpZihpc19hcnJheSgkdGhpcy0-ZGF0YSkpe2ZvcmVhY2goJHRoaXMtPmRhdGEgYXMgJGtleT0-JHZhbHVlKXtpZihpc19hcnJheSgkdmFsdWUpKSB7Zm9yZWFjaCgkdmFsdWUgYXMgJGs9PiR2KXskbGluZXMgPSBzdHJfcmVwbGFjZSgneyQnLiRrZXkuJy4nLiRrLid9JywkdiwkbGluZXMpO319ZWxzZXskbGluZXM9c3RyX3JlcGxhY2UoJ3skJy4ka2V5Lid9JywkdmFsdWUsJGxpbmVzKTt9fX0kYm9keT0kbGluZXM7fWVsc2V7JGJvZHk9JHRoaXMtPmRhdGFbJ2JvZHknXTt9aWYoZ2V0X21hZ2ljX3F1b3Rlc19ncGMoKSkgJGJvZHk9c3RyaXBzbGFzaGVzKCRib2R5KTtyZXR1cm4gJHRoaXMtPm1haWxFbmNvZGluZygkYm9keSk7fWZ1bmN0aW9uIG1iU2VuZE1haWwoKXtyZXR1cm4gQG1iX3NlbmRfbWFpbCgkdGhpcy0-dG9IZWFkZXIoKSwkdGhpcy0-ZGF0YVsnc3ViamVjdCddLCR0aGlzLT5hZGRCb2R5KCksJHRoaXMtPmFkZEhlYWRlcigpKTt9ZnVuY3Rpb24gbWFpbFNlbmQoKSB7JGJvdW5kYXJ5PSdfQm91bmRhcnlfJy51bmlxaWQocmFuZCgxMDAwLDk5OTkpLidfJykuJ18nOyRoZWFkZXJzPWFycmF5KCk7JGhlYWRlcnNbXT0kdGhpcy0-YWRkSGVhZGVyKCk7JGhlYWRlcnNbXT0nWC1NYWlsZXI6IFBIUC8nLiBwaHB2ZXJzaW9uKCkuJyB3aXRoICcuJHRoaXMtPnNjcmlwdE5hbWUuJyBieSB4dHJvY2suY29tJzskaGVhZGVycy49J01JTUUtdmVyc2lvbjogMS4wJztpZigkdGhpcy0-ZGF0YVsnYXR0YWNobWVudCddKXskaGVhZGVyc1tdPSdDb250ZW50LVR5cGU6IG11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9IicuJGJvdW5kYXJ5LiciJzt9ZWxzZXskaGVhZGVyc1tdPSdDb250ZW50LXR5cGU6ICcuJHRoaXMtPmNvbnRlbnRUeXBlLic7IGNoYXJzZXQ9Jy4kdGhpcy0-Y2hhcnNldDt9JGhlYWRlcnNbXT0nQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogJy4kdGhpcy0-ZW5jb2RlOyRib2R5PWFycmF5KCk7aWYoJHRoaXMtPmRhdGFbJ2F0dGFjaG1lbnQnXSl7JGJvZHlbXT0kdGhpcy0-dGV4dEJvZHkoJGJvdW5kYXJ5KS4kdGhpcy0-YXR0YWNoQm9keSgkYm91bmRhcnkpOyRib2R5W109Jy0tJy4kYm91bmRhcnkuJy0tJzt9ZWxzZXskYm9keT0gJHRoaXMtPmFkZEJvZHkoKTt9cmV0dXJuIEBtYWlsKCR0aGlzLT50b0hlYWRlcigpLG1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHRoaXMtPmRhdGFbJ3N1YmplY3QnXSkpLGltcGxvZGUoIlxuIiwkYm9keSksaW1wbG9kZSgiXG4iLCRoZWFkZXJzKSk7fWZ1bmN0aW9uIHNlbmRtYWlsUGFyYW1zKCl7cmV0dXJuICctZiAnLiR0aGlzLT5kYXRhWydmcm9tJ11bJ2VtYWlsJ107fWZ1bmN0aW9uIGFkZEhlYWRlcigpeyRoZWFkZXI9YXJyYXkoKTskaGVhZGVyW109JHRoaXMtPmZyb21IZWFkZXIoKTtpZigkdGhpcy0-ZGF0YVsnY2MnXSkkaGVhZGVyW109JHRoaXMtPmNjSGVhZGVyKCk7aWYoJHRoaXMtPmRhdGFbJ2JjYyddKSRoZWFkZXJbXT0kdGhpcy0-YmNjSGVhZGVyKCk7aWYoJHRoaXMtPmRhdGFbJ3JlcGx5J10pICRoZWFkZXJbXSA9ICR0aGlzLT5yZXBseUhlYWRlcigpO3JldHVybiBpbXBsb2RlKCJcbiIsJGhlYWRlcik7fWZ1bmN0aW9uIGZyb21IZWFkZXIoKSB7cmV0dXJuICdGcm9tOiAnLm1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHRoaXMtPmRhdGFbJ2Zyb20nXVsnbmFtZSddKSkuJyA8Jy4kdGhpcy0-ZGF0YVsnZnJvbSddWydlbWFpbCddLic-Jzt9ZnVuY3Rpb24gdG9IZWFkZXIoKXskdG9EYXRhPWFycmF5KCk7Zm9yZWFjaCgkdGhpcy0-ZGF0YVsndG8nXSBhcyAka2V5ID0-ICR2YWx1ZSl7aWYoaXNfYXJyYXkoJHZhbHVlKSl7JHRvRGF0YVtdPW1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHZhbHVlWyduYW1lJ10pKS4nIDwnLiR2YWx1ZVsnZW1haWwnXS4nPic7fX1yZXR1cm4gJHRvRGF0YSA_IGltcGxvZGUoJywnLCAkdG9EYXRhKSA6IG1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHRoaXMtPmRhdGFbJ3RvJ11bJ25hbWUnXSkpLicgPCcuJHRoaXMtPmRhdGFbJ3RvJ11bJ2VtYWlsJ10uJz4nO31mdW5jdGlvbiBjY0hlYWRlcigpeyRjY0RhdGEgPSBhcnJheSgpO2ZvcmVhY2goJHRoaXMtPmRhdGFbJ2NjJ10gYXMgJGtleT0-JHZhbHVlKXtpZihpc19hcnJheSgkdmFsdWUpKSB7JGNjRGF0YVtdPW1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHZhbHVlWyduYW1lJ10pKS4nIDwnLiR2YWx1ZVsnZW1haWwnXS4nPic7fX1yZXR1cm4gJ0NjOiAnLigkY2NEYXRhID8gaW1wbG9kZSgnLCcsJGNjRGF0YSkgOiBtYl9lbmNvZGVfbWltZWhlYWRlcigkdGhpcy0-bWFpbEVuY29kaW5nKCR0aGlzLT5kYXRhWydjYyddWyduYW1lJ10pKS4nIDwnLiR0aGlzLT5kYXRhWydjYyddWydlbWFpbCddLic-Jyk7fWZ1bmN0aW9uIGJjY0hlYWRlcigpeyRiY2NEYXRhPWFycmF5KCk7Zm9yZWFjaCgkdGhpcy0-ZGF0YVsnYmNjJ10gYXMgJGtleT0-JHZhbHVlKXtpZihpc19hcnJheSgkdmFsdWUpKXskYmNjRGF0YVtdPW1iX2VuY29kZV9taW1laGVhZGVyKCR0aGlzLT5tYWlsRW5jb2RpbmcoJHZhbHVlWyduYW1lJ10pKS4nIDwnLiR2YWx1ZVsnZW1haWwnXS4nPic7fX1yZXR1cm4gJ0JjYzogJy4oJGJjY0RhdGEgPyBpbXBsb2RlKCcsJywkYmNjRGF0YSkgOiBtYl9lbmNvZGVfbWltZWhlYWRlcigkdGhpcy0-bWFpbEVuY29kaW5nKCR0aGlzLT5kYXRhWydiY2MnXVsnbmFtZSddKSkuJyA8JyAuJHRoaXMtPmRhdGFbJ2JjYyddWydlbWFpbCddLic-Jyk7fWZ1bmN0aW9uIHJlcGx5SGVhZGVyKCl7JHJlcGx5RGF0YSA9IGFycmF5KCk7Zm9yZWFjaCgkdGhpcy0-ZGF0YVsncmVwbHknXSBhcyAka2V5ID0-ICR2YWx1ZSl7aWYoaXNfYXJyYXkoJHZhbHVlKSkgeyRyZXBseURhdGFbXT1tYl9lbmNvZGVfbWltZWhlYWRlcigkdGhpcy0-bWFpbEVuY29kaW5nKCR2YWx1ZVsnbmFtZSddKSkuJyA8Jy4kdmFsdWVbJ2VtYWlsJ10uJz4nO319cmV0dXJuICdSZXBseS1UbzogJy4oJHJlcGx5RGF0YSA_IGltcGxvZGUoJywnLCRyZXBseURhdGEpIDogbWJfZW5jb2RlX21pbWVoZWFkZXIoJHRoaXMtPm1haWxFbmNvZGluZygkdGhpcy0-ZGF0YVsncmVwbHknXVsnbmFtZSddKSkuJyA8Jy4kdGhpcy0-ZGF0YVsncmVwbHknXVsnZW1haWwnXS4nPicpO31mdW5jdGlvbiB0ZXh0Qm9keSgkYm91bmRhcnkpeyRib2R5PWFycmF5KCk7JGJvZHk9Jy0tJy4kYm91bmRhcnkuIlxuIjskYm9keS49J0NvbnRlbnQtdHlwZTogJy4kdGhpcy0-Y29udGVudFR5cGUuJztjaGFyc2V0PScuJHRoaXMtPmNoYXJzZXQuIlxuIjskYm9keS49J0NvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6ICcuJHRoaXMtPmVuY29kZS4iXG5cbiI7JGJvZHkuPSAkdGhpcy0-YWRkQm9keSgpLiJcbiI7cmV0dXJuICRib2R5O31mdW5jdGlvbiBhdHRhY2hCb2R5KCRib3VuZGFyeSl7JGZpbGVzID0gYXJyYXkoKTtmb3JlYWNoKCR0aGlzLT5kYXRhWydhdHRhY2htZW50J10gYXMgJGtleSA9PiAkdmFsdWUpIHtpZihpc19hcnJheSgkdmFsdWUpKXskZmlsZXNbXT0kdGhpcy0-YWRkQXR0YWNoQm9keSgkdmFsdWUsICRib3VuZGFyeSk7fX1yZXR1cm4gKCRmaWxlcyA_IGltcGxvZGUoIiIsICRmaWxlcykgOiAkdGhpcy0-YWRkQXR0YWNoQm9keSgkdGhpcy0-ZGF0YVsnYXR0YWNobWVudCddLCRib3VuZGFyeSkpLictLScuJGJvdW5kYXJ5LictLScuIlxuIjt9ZnVuY3Rpb24gYWRkQXR0YWNoQm9keSgkYXR0YWNobWVudCwgJGJvdW5kYXJ5KXskZmlsZW5hbWU9JHRoaXMtPm1haWxFbmNvZGluZygkYXR0YWNobWVudFsnZmlsZW5hbWUnXSk7JGZpbGVuYW1lID0gJz0_SVNPLTIwMjItSlA_Qj8nLmJhc2U2NF9lbmNvZGUoJGZpbGVuYW1lKS4nPz0nOyRmaWxlPWZpbGVfZ2V0X2NvbnRlbnRzKCRhdHRhY2htZW50WydwYXRoJ10uJGF0dGFjaG1lbnRbJ2ZpbGVuYW1lJ10pOyR0eXBlPSAkdGhpcy0-Z2V0TWltZVR5cGUoZXhwbG9kZSgiLiIsJGZpbGVuYW1lKSk7JGJvZHk9ICctLScuJGJvdW5kYXJ5LiJcbiI7JGJvZHkuPSdDb250ZW50LVR5cGU6ICcuJHR5cGUuJzsgbmFtZT0iJy4kZmlsZW5hbWUuJyInLiJcbiI7JGJvZHkuPSdDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiYXNlNjQnLiJcbiI7JGJvZHkuPSdDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0iJy4kZmlsZW5hbWUuJyInLiJcblxuIjsgJGJvZHkuPSBjaHVua19zcGxpdChiYXNlNjRfZW5jb2RlKCRmaWxlKSkuIlxuIjtyZXR1cm4gJGJvZHk7fWZ1bmN0aW9uIG1haWxFbmNvZGluZygkc3RyKXtpZihpc19hcnJheSgkc3RyKSl7JHJlc3VsdD1hcnJheSgpO2ZvcmVhY2goJHN0ciBhcyAka2V5PT4kdmFsdWUpeyRyZXN1bHRbJGtleV0gPSAkdGhpcy0-bWFpbEVuY29kaW5nKCR2YWx1ZSk7fXJldHVybiAkcmVzdWx0O30gZWxzZSB7cmV0dXJuIG1iX2NvbnZlcnRfZW5jb2RpbmcoJHN0ciwgJHRoaXMtPmNoYXJzZXQpO319ZnVuY3Rpb24gZ2V0TWltZVR5cGUoJGFycnkpeyR0eXBlPSdvY3RldC1zdHJlYW0nOyRkYXRhPWFycmF5KCd0eHQnPT4ndGV4dC9wbGFpbicsJ2h0bSc9Pid0ZXh0L2h0bWwnLCdodG1sJz0-J3RleHQvaHRtbCcsJ2F1Jz0-J2F1ZGlvL2Jhc2ljJywnc25kJz0-J2F1ZGlvL2Jhc2ljJywnZXMnID0-ICdhdWRpby9lY2hvc3BlZWNoJywna2FyJz0-ICdhdWRpby9taWRpJywnbWlkJz0-J2F1ZGlvL21pZGknLCdtaWRpJz0-J2F1ZGlvL21pZGknLCdtcDInPT4nYXVkaW8vbXBlZycsJ21wMyc9PidhdWRpby9tcGVnJywnbXBnYSc9PidhdWRpby9tcGVnJywndHNpJz0-J2F1ZGlvL3RzcGxheWVyJywndm94Jz0-J2F1ZGlvL3ZveHdhcmUnLCdhaWYnPT4nYXVkaW8veC1haWZmJywnYWlmYyc9PiAnYXVkaW8veC1haWZmJywnYWlmZic9PidhdWRpby94LWFpZmYnLCdhYmEnPT4nYXVkaW8veC1iYW1iYScsJ2NoYSc9PidhdWRpby94LWNoYWNoYScsJ21pbyc9PidhdWRpby94LW1pbycsJ3JhJz0-J2F1ZGlvL3gtcG4tcmVhbGF1ZGlvJywncmFtJz0-J2F1ZGlvL3gtcG4tcmVhbGF1ZGlvJywncm0nPT4nYXVkaW8veC1wbi1yZWFsYXVkaW8nLCdycG0nPT4nYXVkaW8veC1wbi1yZWFsYXVkaW8tcGx1Z2luJywndnFmJz0-J2F1ZGlvL3gtdHdpbnZxJywndnFsJz0-J2F1ZGlvL3gtdHdpbnZxJywndnFlJz0-J2F1ZGlvL3gtdHdpbnZxLXBsdWdpbicsJ3dhdic9PidhdWRpby94LXdhdicsJ2ZpZic9PidpbWFnZS9maWYnLCdnaWYnPT4naW1hZ2UvZ2lmJywnaWVmJz0-J2ltYWdlL2llZicsJ2pwZSc9PidpbWFnZS9qcGVnJywnanBlZyc9PidpbWFnZS9qcGVnJywnanBnJz0-J2ltYWdlL2pwZWcnLCdwbmcnPT4naW1hZ2UvcG5nJywndGlmJz0-J2ltYWdlL3RpZmYnLCd0aWZmJz0-J2ltYWdlL3RpZmYnLCdtY2YnID0-ICdpbWFnZS92YXNhJywncmFzJz0-J2ltYWdlL3gtY211LXJhc3RlcicsJ2ZoJz0-J2ltYWdlL3gtZnJlZWhhbmQnLCdmaDQnPT4naW1hZ2UveC1mcmVlaGFuZCcsJ2ZoNSc9PidpbWFnZS94LWZyZWVoYW5kJywnZmg3Jz0-J2ltYWdlL3gtZnJlZWhhbmQnLCdmaGMnPT4naW1hZ2UveC1mcmVlaGFuZCcsJ2pwcyc9PidpbWFnZS94LWpwcycsJ3BubSc9PidpbWFnZS94LXBvcnRhYmxlLWFueW1hcCcsJ3BibSc9PidpbWFnZS94LXBvcnRhYmxlLWJpdG1hcCcsJ3BnbSc9PidpbWFnZS94LXBvcnRhYmxlLWdyYXltYXAnLCdwcG0nPT4naW1hZ2UveC1wb3J0YWJsZS1waXhtYXAnLCdyZ2InPT4naW1hZ2UveC1yZ2InLCd4Ym0nPT4naW1hZ2UveC14Yml0bWFwJywneHBtJz0-J2ltYWdlL3gteHBpeG1hcCcsJ3N3eCc9PidpbWFnZS94LXhyZXMnLCd4d2QnPT4naW1hZ2UveC14d2luZG93ZHVtcCcsJ21wZSc9Pid2aWRlby9tcGVnJywnbXBlZyc9Pid2aWRlby9tcGVnJywnbXBnJz0-J3ZpZGVvL21wZWcnLCdtb3YnPT4ndmlkZW8vcXVpY2t0aW1lJywncXQnPT4ndmlkZW8vcXVpY2t0aW1lJywndml2Jz0-J3ZpZGVvL3ZuZC52aXZvJywndml2byc9Pid2aWRlby92bmQudml2bycsJ3ZiYSc9Pid2aWRlby94LWJhbWJhJywnYXZpJz0-J3ZpZGVvL3gtbXN2aWRlbycsJ21vdmllJz0-J3ZpZGVvL3gtc2dpLW1vdmllJywndGdvJz0-J3ZpZGVvL3gtdGFuZ28nLCd2aWYnPT4ndmlkZW8veC12aWYnKTtmb3JlYWNoKCRkYXRhIGFzICRrZXk9PiR2YWx1ZSl7aWYoJGtleT09YXJyYXlfcG9wKCRhcnJ5KSkgJHR5cGUgPSAkdmFsdWU7fXJldHVybiAkdHlwZTt9fQ,,');
?>